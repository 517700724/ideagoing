<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<title>2万豪礼等你拿，爱迪狗网带您快速步入互联网+时代！</title>
<meta name="keywords"
	content="众包平台，项目开发，软件外包，产品研发，方案商，代工，分包，APP开发商，项目外包，平台，模具开发，外观设计，结构设计，专家服务，爱迪狗，ideagoing" />
<meta name="description"
	content="爱迪狗是中国创新的”一站式”产品研发服务众包平台，致力于整合全球优秀研发设计资源，让天下没有难开发的产品。更多众包项目、优质服务尽在爱迪狗。" />
<link rel="shortcut icon" href="ico.png" type="image/x-icon" />
<link type="text/css" rel="stylesheet" href="/pc/public/css/public.css">
<script type="text/javascript" src="/pc/public/js/jquery-1.11.2.min.js"></script>
<script type="text/javascript" src="/pc/public/js/public-utils.js"></script>

<style type="text/css">
#custList div {
	color: #ff6600;
	float: left;
	width: 150px;
}

#custList {
	float: left;
    height: 400px;
    margin-left: 730px;
    margin-top: 100px;
    overflow-y: scroll;
    text-align: left;
    width: 400px;
    z-index: 10;
}

#custList .li {
	font-size: 20px;
	line-height: 35px;
}

.btnNone {
	background-color: hsla(0, 0%, 0%, 0);
    cursor: pointer;
    float: left;
    height: 46px;
    margin-left: 900px;
    margin-top: -60px;
    width: 190px;
}

#custList > li {
    float: left;
    font-size: 20px;
    padding: 6px 0;
}

#paihangList .li{
float:left;
width:364px;
height:650px;
margin-top:130px;
}
#paihangList .li ul li{
line-height:37px;
}
#paihangList .li ul li div{
float:left;
font-size:13px;
font-weight:bold;
color:#999;
}
</style>
</head>
<body>
	<div class="first"></div>
	<div style="background: url('/pc/active/act2/image/01.jpg') no-repeat center center; width: 100%; height: 733px; min-width: 1200px; margin-top: 38px;">
		<div class="container">
			<div style="background:url('/pc/active/act2/image/register.png') no-repeat center center; float:left;width:200px;height:60px;margin-left:340px;margin-top:500px;cursor:pointer" onclick="goRegister()"></div>
			<div style="background:url('/pc/active/act2/image/yaoqing.png') no-repeat center center; float:left;width:200px;height:60px;margin-left:30px;margin-top:500px;cursor:pointer;display:none;padding:0px;" class="-mob-share-ui-button -mob-share-open" id="shareBtn"></div>
			<div style="background:url('/pc/active/act2/image/yaoqing.png') no-repeat center center; float:left;width:200px;height:60px;margin-left:30px;margin-top:500px;cursor:pointer;display:block" onclick="goLogin()" id="goLogin"></div>
			<div style="background:url('/pc/active/act2/image/paihang.png') no-repeat center center; float:left;width:380px;height:60px;margin-left:370px;margin-top:30px;cursor:pointer" onclick="window.location.href='#paihangbang'"></div>
			<!-- <div id="goRegister" style="margin-left:680px; margin-top:10px;float: left; height: 60px; width: 200px; cursor: pointer; background: transparent none repeat scroll 0% 0%;" onclick="goRegister()"></div>
			<div id="shareBtn" class="-mob-share-ui-button -mob-share-open btnNone" style="display:none;background: transparent;"></div>
			<div id="goLogin" class="btnNone" onclick="goLogin()"></div> -->
		</div>
	</div>
	<div style="background: url('/pc/active/act2/image/02.png') no-repeat center center; width: 100%; height: 566px; min-width: 1200px;"></div>
	<div style="background: url('/pc/active/act2/image/03.jpg') no-repeat center center; width: 100%; height: 493px; min-width: 1200px;" id="paihangbang"></div>
	<div style="background: url('/pc/active/act2/image/04.jpg') no-repeat center center; width: 100%; height: 821px; min-width: 1200px;" id="liucheng">
		<div class="container">
			<!-- <div style="margin-left:880px;font-size:16px;margin-top:5px;color:#ff7619">(排行榜每半小时更新一次)</div>
			<ul id="custList"></ul> -->
			<ul id="paihangList">
				<li class="li" id="custList1"></li>
				<li class="li" id="custList2"></li>
				<li class="li" id="custList3"></li>
			</ul>
		</div>
	</div>
	<div style="background: url('/pc/active/act2/image/05.jpg') no-repeat center center; width: 100%; height: 785px; min-width: 1200px;" id="liucheng"></div>
	<div class="last" style="margin-top: 0px;"></div>
	<!--MOB SHARE BEGIN-->
	<!-- <div class="-mob-share-ui-button -mob-share-open">分享</div> -->
	<div class="-mob-share-ui" style="display: block">
		<ul class="-mob-share-list">
			<li class="-mob-share-weibo"><p>新浪微博</p></li>
			<li class="-mob-share-tencentweibo"><p>腾讯微博</p></li>
			<li class="-mob-share-qzone"><p>QQ空间</p></li>
			<li class="-mob-share-qq"><p>QQ好友</p></li>
			<li class="-mob-share-weixin"><p>微信</p></li>
			<!-- <li class="-mob-share-douban"><p>豆瓣</p></li>
			<li class="-mob-share-renren"><p>人人网</p></li>
			<li class="-mob-share-kaixin"><p>开心网</p></li> -->
			<li class="-mob-share-facebook"><p>Facebook</p></li>
			<li class="-mob-share-twitter"><p>Twitter</p></li>
			<!-- <li class="-mob-share-pocket"><p>Pocket</p></li>
			<li class="-mob-share-google"><p>Google+</p></li>
			<li class="-mob-share-youdao"><p>有道云笔记</p></li>
			<li class="-mob-share-mingdao"><p>明道</p></li>
			<li class="-mob-share-pengyou"><p>朋友网</p></li>
			<li class="-mob-share-tumblr"><p>Tumblr</p></li>
			<li class="-mob-share-instapaper"><p>Instapaper</p></li>
			<li class="-mob-share-linkedin"><p>LinkedIn</p></li> -->
		</ul>
		<div class="-mob-share-close">取消</div>
	</div>
	<div class="-mob-share-ui-bg"></div>
	<script id="-mob-share"
		src="http://f1.webshare.mob.com/code/mob-share.js?appkey=118140940ed48"></script>
	<!--MOB SHARE END-->


<div style="display:none">
<script src="http://s4.cnzz.com/z_stat.php?id=1256821722&web_id=1256821722" language="JavaScript"></script>
</div>
</body>
</html>
<script type="text/javascript">
	var endDate = "2016-04-26 26:00:00";
	var startDate = "2016-04-13 16:00:00";

	$(document).ready(function() {
		var custId=_jM.getParam("rid");
		if(_jM.validate.isNotEmpty(custId)){
			var custId64=base64encode(custId);
			//_jM.setCookie("RECOMMEND_CUST_ID", custId64, 7, "/");
			
			var exp = new Date();
			exp.setTime(exp.getTime() + 7*24*60*60*1000);
			document.cookie = "RECOMMEND_CUST_ID="+ custId64 + ";expires=" + exp.toGMTString()+";path=/";
		}
		
		_jM.post("/bp/custBase/getlayer1Count",
		{
			begin : startDate,
			end : endDate,
			ignoreInterceptor : true,
			limit : 50
		},
		function(rs, data) {
			if (data == null) {
				return;
			}
			var size = data.length;
			var html = "<ul>";
			for (var i = 0; i < (size>=17?17:size); i++) {
				html += "<li>"
					+ "<div style='width:100px;padding-left:20px;"+(i<10?"color:#ff7619;":"")+"'>"+ (parseInt(i)+1)+ "</div>"
					+ "<div style='text-align: left; text-overflow: ellipsis; white-space: nowrap; overflow: hidden; width: 110px;"+(i<10?"color:#ff7619;":"")+"'>"+ getCustName(data[i].custName)+ "</div>"
					+ "<div style='width:100px;text-align: center;"+(i<10?"color:#ff7619;":"")+"'>"+ data[i].recommendCount+ "</div>"
					+ "</li>";
			}
			html+="</ul>";
			$("#custList1").html(html);
			
			if(size>17){
				html = "<ul>";
				for (var i = 17; i < (size>=34?34:size); i++) {
					html += "<li>"
						+ "<div style='width:100px;padding-left:37px;'>"+ (parseInt(i)+1)+ "</div>"
						+ "<div style='text-align: left; text-overflow: ellipsis; white-space: nowrap; overflow: hidden; width: 120px;'>"+ getCustName(data[i].custName)+ "</div>"
						+ "<div style='width:100px;text-align: center;'>"+ data[i].recommendCount+ "</div>"
						+ "</li>";
				}
				html+="</ul>";
				$("#custList2").html(html);
			}
			if(size>34){
				html = "<ul>";
				for (var i = 34; i < size; i++) {
					html += "<li>"
						+ "<div style='width:100px;padding-left:42px;'>"+ (parseInt(i)+1)+ "</div>"
						+ "<div style='text-align: left; text-overflow: ellipsis; white-space: nowrap; overflow: hidden; width: 110px;'>"+ getCustName(data[i].custName)+ "</div>"
						+ "<div style='width:100px;text-align: center;'>"+ data[i].recommendCount+ "</div>"
						+ "</li>";
				}
				html+="</ul>";
				$("#custList3").html(html);
			}
		});
		
		_jM.login.getLogin(function(data){
			$("#goLogin").hide();
			$("#shareBtn").show();
			
			var rid = _jM.getParam("rid");
			if(_jM.validate.isEmpty(rid) || rid != data.custId){
				$.post("/bp/custBase/getById",null,function(data){
					window.location.href = '/pc/active/act2/act2.html?rid='+data.id;
				})
			}
		},function(data){
			$("#goLogin").show();
			$("#shareBtn").hide();
		});
	});
	
	$("#goLogin").click(function(){
		//_jM.login.go("/login/login.html");
		var backURL="/pc/active/act2/act2.html";
		window.location.href="/login/login.html?backURL="+backURL;
	});

	function getCustName(name){
		if(_jM.validate.isNotEmpty(name)){
			return name.substring(0,3)+"****"+name.substring(7,11);
		}
		return name;
	}
	
	function goRegister() {
		window.open("/login/register.html");
	}
	
	var base64EncodeChars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";

	function base64encode(str) {
	　　var out, i, len;
	　　var c1, c2, c3;
	　　len = str.length;
	　　i = 0;
	　　out = "";
	　　while(i < len) {
	 c1 = str.charCodeAt(i++) & 0xff;
	 if(i == len)
	 {
	　　 out += base64EncodeChars.charAt(c1 >> 2);
	　　 out += base64EncodeChars.charAt((c1 & 0x3) << 4);
	　　 out += "==";
	　　 break;
	 }
	 c2 = str.charCodeAt(i++);
	 if(i == len)
	 {
	　　 out += base64EncodeChars.charAt(c1 >> 2);
	　　 out += base64EncodeChars.charAt(((c1 & 0x3)<< 4) | ((c2 & 0xF0) >> 4));
	　　 out += base64EncodeChars.charAt((c2 & 0xF) << 2);
	　　 out += "=";
	　　 break;
	 }
	 c3 = str.charCodeAt(i++);
	 out += base64EncodeChars.charAt(c1 >> 2);
	 out += base64EncodeChars.charAt(((c1 & 0x3)<< 4) | ((c2 & 0xF0) >> 4));
	 out += base64EncodeChars.charAt(((c2 & 0xF) << 2) | ((c3 & 0xC0) >>6));
	 out += base64EncodeChars.charAt(c3 & 0x3F);
	　　}
	　　return out;
	}
	
	function utf16to8(str) {
		　　var out, i, len, c;
		　　out = "";
		　　len = str.length;
		　　for(i = 0; i < len; i++) {
		 c = str.charCodeAt(i);
		 if ((c >= 0x0001) && (c <= 0x007F)) {
		　　 out += str.charAt(i);
		 } else if (c > 0x07FF) {
		　　 out += String.fromCharCode(0xE0 | ((c >> 12) & 0x0F));
		　　 out += String.fromCharCode(0x80 | ((c >>　6) & 0x3F));
		　　 out += String.fromCharCode(0x80 | ((c >>　0) & 0x3F));
		 } else {
		　　 out += String.fromCharCode(0xC0 | ((c >>　6) & 0x1F));
		　　 out += String.fromCharCode(0x80 | ((c >>　0) & 0x3F));
		 }
		　　}
		　　return out;
		}
</script>
